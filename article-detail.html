<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Article - Football News</title>
    <link
    href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Roboto:wght@300;400;500;700&display=swap"
    rel="stylesheet"
  />
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
  />
  <!-- Bootstrap CSS -->
  <link
    href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
    rel="stylesheet"
  />
  <!-- Custom CSS -->

  <!-- Font Awesome Icons -->
  <link
    href="https://opensource.keycdn.com/fontawesome/4.5.0/font-awesome.min.css"
    rel="stylesheet"
  />
  <!-- Custom JavaScript -->
  <script src="./a.js"></script>
</head>

<body id="page-top"> 
  <nav role="navigation" class="navbar navbar-default navbar-fixed-top">
    <div class="container-fluid">
      <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-header">
        <button
          type="button"
          class="navbar-toggle collapsed"
          data-toggle="collapse"
          data-target=".navbar-collapse"
        >
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand page-scroll" href="#page-top">News Foot</a>
      </div>

      <!-- Collect the nav links, forms, and other content for toggling -->
      <div class="collapse navbar-collapse" >
        <ul class="nav navbar-nav navbar-right">
          <li>
            <a class="page-scroll" href="index.html">ACCUEIL</a>
          </li>
          <li>
            <a class="page-scroll" href="#articles">ARTICLES</a>
          </li>
          <li>
            <a class="page-scroll" href="#videos">VIDEOS</a>
          </li>
          <li>
            <a
              href="#"
              id="logoutButton"
              class="logout-button"
              style="display: none"
            >
              <i class="fa fa-sign-out"></i> Déconnexion
            </a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  <style>
    
      html, body {
        background: #f8fafc;
        color: #1e293b;
        min-height: 100vh;
        font-family: 'Montserrat', Arial, sans-serif;
        line-height: 1.6;
        margin: 0;
        padding: 0;
        font-size: 1.07rem;
      }
      .navbar {
        background: rgba(0, 0, 0, 0.522);
        -webkit-transition: all 0.35s;
        -moz-transition: all 0.35s;
        transition: all 0.35s;
      }

      .container {
        max-width: 900px;
        margin: 0 auto;
        padding: 0 1rem;
      }

      /* Navbar styles */
      .navbar.minimal-navbar {
        background: #fff;
        border-bottom: 1px solid #e5e7eb;
        box-shadow: none;
        padding: 0.5rem 0;
      }

      body[data-theme="dark"] .navbar.minimal-navbar {
        background: #111;
        border-bottom: 1px solid #222;
      }

      .nav-flex {
        display: flex;
        align-items: center;
        justify-content: space-between;
      }

      .logo-left {
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }
      .footer{
        background:#000;
        padding:30px 0px;
        font-family: 'Play', sans-serif;
        text-align:center;
        font-size: 1rem;
      }
    
    .footer .row{
    width:100%;
    margin:1% 0%;
    padding:0.6% 0%;
    color:gray;
    font-size:0.8em;
    }
    
    .footer .row a{
    text-decoration:none;
    color:gray;
    transition:0.5s;
    }
    
    .footer .row a:hover{
    color:#fff;
    }
    
    .footer .row ul{
    width:100%;
    }
    
    .footer .row ul li{
    display:inline-block;
    margin:0px 30px;
    }
    
    .footer .row a i{
    font-size:2em;
    margin:0% 1%;
    }
    
    @media (max-width:720px){
    .footer{
    text-align:left;
    padding:5%;
    }
    .footer .row ul li{
    display:block;
    margin:10px 0px;
    text-align:left;
    }
    .footer .row a i{
    margin:0% 3%;
    }
    }
      .logo-icon {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 32px;
        height: 32px;
      }

      .logo-text {
        font-size: 1.3rem;
        font-weight: bold;
        color: #111;
        letter-spacing: 1px;
      }

      body[data-theme="dark"] .logo-text {
        color: #fff;
      }

     
      .article-detail {
        max-width: 900px;
        margin: 2rem auto;
        padding: 2rem;
        background: #fff;
        border-radius: 12px;
        box-shadow: 0 4px 24px rgba(0, 0, 0, 0.1);
      }

      .article-header {
        margin-bottom: 2rem;
      }

      .article-title {
        font-size: 2.2rem;
        font-weight: 700;
        color: #1a237e;
        margin-bottom: 1rem;
        line-height: 1.2;
      }

      .article-meta {
        display: flex;
        align-items: center;
        gap: 1rem;
        color: #555;
        font-size: 1.05rem;
        margin-bottom: 2rem;
        flex-wrap: wrap;
      }

      .article-author {
        font-weight: 600;
        color: #2563eb;
      }

      .article-category {
        background: #e0e7ff;
        color: #3730a3;
        font-size: 1rem;
        font-weight: 600;
        border-radius: 12px;
        padding: 0.2rem 0.9rem;
        margin-left: 0.5rem;
      }

      .article-image {
        width: 100%;
        max-height: 500px;
        object-fit: cover;
        border-radius: 8px;
        margin-bottom: 2rem;
      }

      .article-content {
        font-size: 1.1rem;
        line-height: 1.8;
        color: var(--text-primary);
      }

      .article-content p {
        margin-bottom: 1.5rem;
      }

      .loading-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(255, 255, 255, 0.8);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 2000;
      }

      .loading-spinner {
        width: 50px;
        height: 50px;
        border: 3px solid var(--light-bg);
        border-radius: 50%;
        border-top-color: var(--accent-color);
        animation: spin 1s linear infinite;
      }

      .error-message {
        text-align: center;
        padding: 2rem;
        color: #dc2626;
        background: #fee2e2;
        border-radius: 8px;
        margin: 2rem auto;
        max-width: 600px;
      }

      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }

      @media (max-width: 768px) {
        .article-detail {
          margin: 1rem;
          padding: 1.5rem;
        }

        .article-title {
          font-size: 2rem;
        }

        .article-meta {
          flex-direction: column;
          align-items: flex-start;
          gap: 0.5rem;
        }
      }

      .navbar-default .navbar-nav > li > a,
      .navbar-default .navbar-nav > li > a .fa {
        color: #fff !important;
        font-weight: 600 !important;
      }
      .navbar-default .navbar-brand {
        color: rgba(255, 213, 0, 0.9) !important;
        font-weight: 700 !important;
      }
    </style>
  </head>
  <body data-theme="light">
    
    <div class="container">
      
      <div class="article-detail" id="articleDetail">
        <article>
          <div class="container">
            <div class="article-content-wrapper">
              <h1 class="article-title">Kylian Mbappé, l'icône d'une génération</h1>
              <div class="article-meta">
                <span class="article-author"><i class="fa fa-user"></i> Marie Dubois</span>
                <span>•</span>
                <span>15 juin 2025</span>
                <span>•</span>
                <span class="article-category">Ligue 1</span>
              </div>
              <div class="article-description">
                <p>Kylian Mbappé continue d'écrire l'histoire du football français. À seulement 26 ans, il a déjà remporté de nombreux titres avec le Paris Saint-Germain et l'équipe de France, devenant une véritable légende vivante.</p>
                <p>Son influence dépasse largement les terrains. Modèle pour la jeunesse, ambassadeur de causes sociales, Mbappé incarne la réussite, la détermination et l'humilité. Son départ annoncé pour un grand club européen suscite déjà l'émotion chez les supporters parisiens.</p>
                <p>Mais au-delà des statistiques, c'est son style de jeu explosif, sa vitesse et sa capacité à faire basculer un match qui fascinent. Le football français n'a jamais eu une telle star depuis Zinédine Zidane.</p>
                <p>Le futur s'annonce radieux pour Mbappé, qui inspire une nouvelle génération de footballeurs et de fans à travers le monde.</p>
              </div>
            </div>
          </div>
        </article>
      </div>
    </div>
    <div class="loading-overlay" id="loadingOverlay">
      <div class="loading-spinner"></div>
    </div>
    <div class="error-message" id="errorMessage">
      <!-- Erreur message will be injected here -->
    </div>
    <footer>
      <div class="footer">
        <div class="row">
          <a href="#"><i class="fa fa-facebook"></i></a>
          <a href="#"><i class="fa fa-instagram"></i></a>
          <a href="#"><i class="fa fa-youtube"></i></a>
          <a href="#"><i class="fa fa-twitter"></i></a>
        </div>

        <div class="row">
          <ul>
            <li><a href="#">Contact us</a></li>
            <li><a href="#">Our Services</a></li>
            <li><a href="#">Privacy Policy</a></li>
            <li><a href="#">Terms & Conditions</a></li>
            <li><a href="#">Career</a></li>
            <li>
              <a href="login.html" 
                >Se connecter en tant qu'admin</a
              >
            </li>
          </ul>
        </div>

        <div class="row">
          INFERNO Copyright © 2021 Inferno - All rights reserved || Designed By:
          Mahesh
        </div>
      </div>
    </footer>
    <script>
      document.addEventListener("DOMContentLoaded", async function () {
        const loadingOverlay = document.getElementById("loadingOverlay");
        const articleDetail = document.getElementById("articleDetail");
        const errorMessage = document.getElementById("errorMessage");

        // Récupérer l'ID de l'article depuis l'URL
        const urlParams = new URLSearchParams(window.location.search);
        const articleId = urlParams.get("id");

        if (!articleId) {
          showError("ID de l'article non spécifié");
          return;
        }

        try {
          // Afficher le loading
          loadingOverlay.style.display = "flex";
          errorMessage.style.display = "none";

          // Récupérer l'article depuis l'API
          const response = await fetch(
            `https://newsfootbackend-production.up.railway.app/api/articles/${articleId}`
          );

          if (!response.ok) {
            throw new Error("Erreur lors du chargement de l'article");
          }

          const article = await response.json();

          // Mettre à jour le titre de la page
          document.title = `${article.titre} - Football News`;

          // Afficher l'article
          articleDetail.innerHTML = `
            <article>
              <header class="article-header">
                <h1 class="article-title">${article.titre}</h1>
                <div class="article-meta">
                  <span>Par ${article.auteur_prenom} ${
            article.auteur_nom
          }</span>
                  <span>•</span>
                  <span>${new Date(article.date_creation).toLocaleDateString(
                    "fr-FR",
                    {
                      year: "numeric",
                      month: "long",
                      day: "numeric",
                    }
                  )}</span>
                  <span>•</span>
                  <span>${article.categorie}</span>
                </div>
              </header>
              ${
                article.image
                  ? `
                <img 
                  src="https://newsfootbackend-production.up.railway.app/${
                    article.image.startsWith("src/")
                      ? article.image
                      : "src/" + article.image
                  }"
                  alt="${article.titre}"
                  class="article-image"
                >
              `
                  : ""
              }
              <div class="article-content">
                ${article.contenu
                  .split("\n")
                  .map((paragraph) => `<p>${paragraph}</p>`)
                  .join("")}
              </div>
            </article>
          `;
        } catch (error) {
          console.error("Erreur:", error);
          showError("Une erreur est survenue lors du chargement de l'article");
        } finally {
          loadingOverlay.style.display = "none";
        }
      });

      function showError(message) {
        const errorMessage = document.getElementById("errorMessage");
        errorMessage.textContent = message;
        errorMessage.style.display = "block";
        document.getElementById("loadingOverlay").style.display = "none";
      }

      // Gestion du menu burger
      const burgerBtn = document.getElementById("burgerBtn");
      const navMenu = document.getElementById("navMenu");
      const navLinks = document.getElementById("navLinks");

      if (burgerBtn && navMenu && navLinks) {
        burgerBtn.addEventListener("click", () => {
          navMenu.classList.toggle("open");
          navLinks.classList.toggle("open");
        });
      }

      // Gestion du bouton de déconnexion
      const logoutButton = document.getElementById("logoutButton");
      const token = localStorage.getItem("token");
      if (logoutButton) {
        if (token) {
          logoutButton.style.display = "inline-block";
          logoutButton.onclick = function (e) {
            e.preventDefault();
            localStorage.removeItem("token");
            window.location.href = "login.html";
          };
        } else {
          logoutButton.style.display = "none";
        }
      }

      const adminLoginBtn = document.getElementById("adminLoginBtn");

      if (adminLoginBtn) {
        if (token) {
          adminLoginBtn.href = "admin.html";
          adminLoginBtn.innerHTML = `
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
            </svg>
            Dashboard Admin
          `;
        }
      }
    </script>
  </body>
</html>
